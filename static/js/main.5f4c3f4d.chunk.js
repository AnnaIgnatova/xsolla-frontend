(this["webpackJsonpxsolla-frontend"]=this["webpackJsonpxsolla-frontend"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(8),i=n.n(c),r=(n(14),n(9)),o=n(2),l=n(3),u=n(5),h=n(4),d=(n(15),n(7),n(0)),v=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"createSelectOptions",value:function(){return this.props.cities.sort().filter((function(t,e,n){return n.lastIndexOf(t)===e})).map((function(t,e){return Object(d.jsx)("option",{value:t,children:t},"".concat(t,"-").concat(e))}))}},{key:"changeCity",value:function(t){this.props.updateCity(t.target.value)}},{key:"render",value:function(){var t=this;return Object(d.jsx)("select",{onChange:function(e){return t.changeCity(e)},className:"select-city",children:this.createSelectOptions()})}}]),n}(s.a.Component),f=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"createMonthesOptions",value:function(){return this.props.monthes.sort().filter((function(t,e,n){return n.lastIndexOf(t)===e})).map((function(t){return new Date(Date.UTC(2021,t-1,10)).toLocaleDateString("en-US",{month:"long"})})).map((function(t){return Object(d.jsx)("option",{value:t,children:t},t)}))}},{key:"changeMonth",value:function(t){this.props.updateMonth(t.target.value)}},{key:"render",value:function(){var t=this;return Object(d.jsx)("select",{onChange:function(e){return t.changeMonth(e)},children:this.createMonthesOptions()})}}]),n}(s.a.Component),j=(n(17),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"saveCard",value:function(t){"event-save-icon"===t.target.className.baseVal?t.target.children[0].className.baseVal="no-fill"===t.target.children[0].className.baseVal?"active":"no-fill":t.target.className.baseVal="no-fill"===t.target.className.baseVal?"active":"no-fill"}},{key:"createCard",value:function(t,e,n){var a=t.split(".")[0];return Object(d.jsxs)("div",{className:"card-event",style:{backgroundImage:"url(".concat(n,")")},children:[Object(d.jsx)("div",{className:"event-month",children:a}),Object(d.jsx)("span",{children:e}),Object(d.jsx)("svg",{onClick:this.saveCard,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"event-save-icon",children:Object(d.jsx)("path",{className:"no-fill",d:"M15 19L8 14L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H13C13.5304 1 14.0391 1.21071 14.4142 1.58579C14.7893 1.96086 15 2.46957 15 3V19Z",stroke:"white",strokeWidth:"2"})})]},"".concat(e,"-").concat(t))}},{key:"createAllCards",value:function(t,e){var n=this;return this.props.events.map((function(a){var s=new Date(Date.UTC(2021,+String(a.date).split(".")[1]-1,10)).toLocaleDateString("en-US",{month:"long"});return a.city===t&&e===s?n.createCard(a.date,a.name,a.image):void 0}))}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"cards-container",children:this.createAllCards(this.props.city,this.props.month)})}}]),n}(s.a.Component)),p=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).fetchEvents=function(){a.setState(Object(r.a)({},a.state)),fetch("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json").then((function(t){return t.json()})).then((function(t){return a.setState({events:t})})).catch((function(t){return console.log(t)}))},a.updateMonth=function(t){a.setState({month:t})},a.updateCity=function(t){a.setState({city:t})},a.state={events:[],city:"Amsterdam",month:"February",saved:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"getCities",value:function(){return this.state.events.map((function(t){return t.city}))}},{key:"getMonthes",value:function(){return this.state.events.map((function(t){return String(t.date).split(".")[1]}))}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)("div",{className:"events-container",children:[Object(d.jsx)("h1",{children:"Event Listing"}),Object(d.jsxs)("div",{className:"event-info",children:[Object(d.jsx)("span",{className:"city-title",children:"City:"}),Object(d.jsx)(v,{cities:this.getCities(),updateCity:this.updateCity}),Object(d.jsx)("span",{children:"Month:"}),Object(d.jsx)(f,{monthes:this.getMonthes(),updateMonth:this.updateMonth})]}),Object(d.jsx)(j,{events:this.state.events,city:this.state.city,month:this.state.month,updateSavedCards:this.updateSavedCards,savedCards:this.state.saved})]})})}}]),n}(s.a.Component),b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),c(t),i(t)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),b()},7:function(t,e,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.5f4c3f4d.chunk.js.map